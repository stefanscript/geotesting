(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(40)},30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),i=n.n(r),c=(n(30),n(6)),l=n(10),s=n(11),u=n(13),d=n(12),m=n(14),h=n(1);n(31);function g(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en"}function f(){return navigator.languages}function v(){return(new Date).getTimezoneOffset()}function p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}}var E,w,O=function(){if("undefined"!==typeof navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},b=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},y=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,a=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if("undefined"!==typeof n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!==("Other"===e))return!0}return a.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||((a.indexOf("linux")>=0||a.indexOf("android")>=0||a.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||((a.indexOf("mac")>=0||a.indexOf("ipad")>=0||a.indexOf("ipod")>=0||a.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||((-1===a.indexOf("win")&&-1===a.indexOf("linux")&&-1===a.indexOf("mac"))!==("Other"===e)||"undefined"===typeof navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},x=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"===(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var a,o=eval.toString().length;if(37===o&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===o&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===o&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(r){try{r.toSource(),a=!0}catch(i){a=!1}}return a&&"Firefox"!==e&&"Other"!==e},P={enableHighAccuracy:!0,timeout:1e4,maximumAge:0},N={position:"",error:""};function C(){return"geolocation"in navigator}function S(e){console.log("g1");var t=e.coords;N.position=e,console.log(e),w&&w({position:e}),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}function W(e){var t="unknown error";1===e.code?t="permission denied":2===e.code?t="position unavailable (error response from location provider)":3===e.code&&(t="timed out"),N.error="ERROR(".concat(e.code,"): reason: ").concat(t,", ").concat(e.message),E&&E({error:N.error}),w&&w({error:N.error}),console.warn(N.error)}function A(e){var t=e.coords;N.position=e,console.log(e),E&&E({position:e}),console.log("Watch: Your current position is:",new Date),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}function k(){var e=0;return e+=y()?0:100,0,e+=x()?0:100,0,e+=O()?0:100,0,e+=b()?0:100,0,e+=j(p())?0:100,0,e+=T(v())?0:100,0,parseInt(e/6,10)}function j(e){var t=String(e).toLowerCase();return-1===["america/toronto","america/montreal"].indexOf(t)}function T(e){var t=parseInt(e,10);return!(t<=6&&t>=4)}function L(e){var t=e.title,n=e.value;return o.a.createElement("div",{className:"observation"},t,": ",o.a.createElement("span",null,n))}function F(e){var t=e.title,n=e.passed;return o.a.createElement("div",{className:"observation observation-test ".concat(n?"":"failed")},t,": ",o.a.createElement("span",{className:"result"},JSON.stringify(n)))}var M=n(8),I={currentPositionAvgAccuracy:-1,lastCurrentPosition:{},watchPositionAvgAccuracy:-1};function R(e){return V({message:e,passed:!0,testFinished:!0})}function D(e){return V({message:e,passed:!1,testFinished:!0})}function V(e){return{message:e.message,passed:e.passed,testFinished:e.testFinished}}function B(e){var t=function(e){return e.map(function(t,n){return 0!==n?e[n].timestamp-e[n-1].timestamp:0})}(e);return console.log("jitters",t),t.filter(function(e){return 0===e}).length}function H(e){return e.map(function(t,n){return 0!==n?e[n].timestampRef-e[n-1].timestampRef:0})}function _(e){if(e.length>0){if(Y(e),q(e),console.log("real ref jitters",H(e)),G(e))return D("Watch position - Failed (big jumps detected)");if(B(e)===e.length)return D("Watch position test - Failed (no jitter in ".concat(e.length," samples)"));if(function(e){try{if(e.length>=10){var t=e.filter(function(e){return 1===e.coords.accuracy});return console.log("bad1mAccuracies",t),t.length===e.length}}catch(n){return!1}return!1}(e))return D("Watch position - Failed (accuracy)");if(function(e){try{if(e.length>=10){var t=Object(c.a)(new Set(e.map(function(e){return e.coords.latitude}))),n=Object(c.a)(new Set(e.map(function(e){return e.coords.longitude}))),a=Object(c.a)(new Set(e.map(function(e){return e.coords.accuracy})));return console.log("constLat",t),console.log("constLong",n),console.log("constAcc",a),1===t.length&&1===a.length&&1===n.length}}catch(o){return!1}return!1}(e))return D("Watch position - Failed (not enough variation in lat, long, acc)");var t=K(e);return I=Object(M.a)({},I,{watchPositionAvgAccuracy:t}),console.log("watchPosition acc avg",t),function(e){var t=e.currentPositionAvgAccuracy,n=e.watchPositionAvgAccuracy;return console.log("Avg Acc current",t,"vs watch",n),t<n}(I)?D("Accuracy didn't improve - avg"):!function(e){if(e&&e.length>0){var t=e.filter(function(t,n){return n>0&&t<=e[n-1]});console.log("accuracy trend",t),console.log("accuracy trend count",t.length,"vs",e.length-1);var n=100*t.length/(e.length-1);return console.log("accuracy trend ",n),n>=60}return!0}(function(e){try{if(e.length>0)return e.map(function(e,t){return e.coords.accuracy})}catch(t){return[]}return[]}(e))&&t<=4?D("Accuracy didn't improve - trend"):R("Watch position test - Passed (".concat(e.length," samples)"))}return D("Watch position test - Failed (no geo data)")}function G(e){try{if(e.length>0){console.log("big Positions start");var t=e.map(function(e,t,n){return 0!==t?J(n[t-1].coords.latitude,n[t-1].coords.longitude,e.coords.latitude,e.coords.longitude):0});console.log("distances",t);var n=function(e,t){return e.filter(function(e){return e>t})}(t,10);return console.log("bigJumps",n),n.length>0}}catch(a){return!1}return!1}function J(e,t,n,a){if(e===n&&t===a)return 0;var o=z(n-e),r=z(a-t),i=z(e),c=z(n),l=Math.sin(o/2)*Math.sin(o/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(i)*Math.cos(c);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function z(e){return e*Math.PI/180}function U(e,t,n,a,o,r,i){var c=function(e,t){if(t&&e)return e/t;return 0}(1e3*J(e,t,n,a),(o-r)/1e3);return console.log("velocity",c,"m/s"," #",i),c}function Y(e){if(e.length>0){var t=e.map(function(e,t,n){var a=e.timestampRef,o=e.timestamp,r=(a-o)/1e3;return console.log(a,"vs",o,r,"sec diff"),r});console.log("timeDiffs",t)}}function q(e){try{if(e.length>0){var t=e[0].coords.latitude,n=e[0].coords.longitude,a=e[0].timestamp,o=e.map(function(e,o,r){if(0!==o){var i=e.coords.latitude,c=e.coords.longitude,l=e.timestamp;return U(i,c,t,n,l,a,o)}return 0}),r=e.map(function(e,t,n){if(0!==t){var a=n[t-1].coords.latitude,o=n[t-1].coords.longitude,r=n[t-1].timestamp;return U(e.coords.latitude,e.coords.longitude,a,o,e.timestamp,r,t)}return 0}),i=e.map(function(e,t,n){return e.coords.speed});return console.log("velocities",o),console.log("velocities Current",r),console.log("speeds",i),!1}}catch(c){return!1}return!1}function K(e){try{if(e.length>0){var t=e.map(function(e,t){return e.coords.accuracy});return console.log("accuracies",t),t.reduce(function(e,t){return e+t},0)/t.length}}catch(n){return-1}return-1}var Q=function(e,t,n){if(n.length){var a="data:text/csv;charset=utf-8,",o="latitude,longitude,accuracy,altitude,altitudeAccuracy,heading,speed".split(",");a+=o.join(",")+",timestamp,ms,s,jitter,timestampRef,timestampDiffMs,distanceKm,velocity\r\n",n.forEach(function(e,t){var r=t>0?n[t-1]:null;a+=Z({item:e,item0:n[0],prevItem:r,heading:o,index:t+1})});var r=encodeURI(a),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download","customers.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),i.click(),console.log("clicked")}},Z=function(e){var t=e.item,n=e.item0,a=e.prevItem,o=e.heading,r=e.index,i=o.map(function(e){return null===t.coords[e]?"":t.coords[e].toString()});i.push(t.timestamp);var c=t.timestamp-n.timestamp;i.push(c),i.push(c/1e3);var l=a?(t.timestamp-a.timestamp)/1e3:0;i.push(l),i.push(t.timestampRef);var s=t.timestampRef-t.timestamp;console.log("#",r,s),i.push(s);var u=a?J(a.coords.latitude,a.coords.longitude,t.coords.latitude,t.coords.longitude):0;return i.push(u),i.push(U(t.coords.latitude,t.coords.longitude,n.coords.latitude,n.coords.longitude,t.timestamp,n.timestamp,r)),i.join(",")+"\r\n"};function $(e){var t={coords:{},timestamp:e.timestamp,timestampRef:Date.now()};for(var n in e.coords)console.log("key: ",n,e.coords[n]),t.coords[n]=e.coords[n];return t}var X,ee,te=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={position:"",error:"",errorOne:"",prevWatchPositions:[],prevOnePositions:[]},n.handleWatchChanges=n.handleWatchChanges.bind(Object(h.a)(Object(h.a)(n))),n.handleWatchClick=n.handleWatchClick.bind(Object(h.a)(Object(h.a)(n))),n.handleOneClick=n.handleOneClick.bind(Object(h.a)(Object(h.a)(n))),n.handleOneChanges=n.handleOneChanges.bind(Object(h.a)(Object(h.a)(n))),n.downloadWatchCSV=n.downloadWatchCSV.bind(Object(h.a)(Object(h.a)(n))),n.downloadOneCSV=n.downloadOneCSV.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleWatchChanges",value:function(e){var t=e.position,n=e.error;if(n)this.setState({error:n});else{var a=$(t);this.setState({prevWatchPositions:[].concat(Object(c.a)(this.state.prevWatchPositions),a)})}}},{key:"handleOneChanges",value:function(e){var t=e.position,n=e.error;if(n)this.setState({errorOne:n});else{var a=$(t);this.setState({prevOnePositions:[].concat(Object(c.a)(this.state.prevOnePositions),a)})}}},{key:"handleWatchClick",value:function(e){!function(e){var t;C()&&(E=e,t=navigator.geolocation.watchPosition(A,W,P))}(this.handleWatchChanges)}},{key:"handleOneClick",value:function(){var e;e=this.handleOneChanges,C()&&(w=e,navigator.geolocation.getCurrentPosition(S,W,P))}},{key:"downloadOneCSV",value:function(e){return e.stopPropagation(),Q(0,0,this.state.prevOnePositions),!1}},{key:"downloadWatchCSV",value:function(e){return e.stopPropagation(),Q(0,0,this.state.prevWatchPositions),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("section",{className:"side-container"},o.a.createElement("header",null,"Geolocation"),o.a.createElement("div",{className:"details"},o.a.createElement("h1",null," Watch Position"),o.a.createElement("button",{onClick:this.handleWatchClick},"Start Watching Geolocation"),o.a.createElement("code",null,this.state.error),o.a.createElement("ul",{className:"entries"},o.a.createElement("li",{key:"w0"},o.a.createElement("code",{className:"index-column"},"#"),o.a.createElement("code",null,"latitude"),o.a.createElement("code",null,"longitude"),o.a.createElement("code",null,"accuracy"),o.a.createElement("code",null,"altitude"),o.a.createElement("code",null,"altitudeAccuracy"),o.a.createElement("code",null,"heading"),o.a.createElement("code",null,"speed"),o.a.createElement("code",null,"timestamp")),this.state.prevWatchPositions.map(function(t,n){return o.a.createElement("li",{key:"w"+n},o.a.createElement("code",{className:"index-column"},n,"."),o.a.createElement("code",null,t.coords.latitude),o.a.createElement("code",null,t.coords.longitude),o.a.createElement("code",null,t.coords.accuracy,"m"),o.a.createElement("code",null,t.coords.altitude),o.a.createElement("code",null,t.coords.altitudeAccuracy),o.a.createElement("code",null,t.coords.heading),o.a.createElement("code",null,t.coords.speed),o.a.createElement("code",null,"+",t.timestamp-e.state.prevWatchPositions[0].timestamp," ",10===(t.timestamp+"").length?"sec":"ms"))})),o.a.createElement("a",{id:"downloadwatchCSV",onClick:this.downloadWatchCSV},"Download CSV"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("div",{className:"details"},o.a.createElement("h1",null," One time Position"),o.a.createElement("button",{onClick:this.handleOneClick},"Get Quick Geolocation"),o.a.createElement("code",null,this.state.error),o.a.createElement("ul",{className:"entries"},o.a.createElement("li",{key:"0"},o.a.createElement("code",{className:"index-column"},"#"),o.a.createElement("code",null,"latitude"),o.a.createElement("code",null,"longitude"),o.a.createElement("code",null,"accuracy"),o.a.createElement("code",null,"altitude"),o.a.createElement("code",null,"altitudeAccuracy"),o.a.createElement("code",null,"heading"),o.a.createElement("code",null,"speed"),o.a.createElement("code",null,"timestamp")),this.state.prevOnePositions&&this.state.prevOnePositions.map(function(t,n){return o.a.createElement("li",{key:n},o.a.createElement("code",{className:"index-column"},n,"."),o.a.createElement("code",null,t.coords.latitude),o.a.createElement("code",null,t.coords.longitude),o.a.createElement("code",null,t.coords.accuracy,"m"),o.a.createElement("code",null,t.coords.altitude),o.a.createElement("code",null,t.coords.altitudeAccuracy),o.a.createElement("code",null,t.coords.heading),o.a.createElement("code",null,t.coords.speed),o.a.createElement("code",null,"+",t.timestamp-e.state.prevOnePositions[0].timestamp," ",10===(t.timestamp+"").length?"sec":"ms"))})),o.a.createElement("a",{id:"downloadoneCSV",onClick:this.downloadOneCSV},"Download CSV")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"head"+(k()<50?" sad":"")},o.a.createElement("div",{className:"face"},o.a.createElement("div",{className:"mouth"}),o.a.createElement("div",{className:"eye-group"},o.a.createElement("div",{className:"eye eye-left"}),o.a.createElement("div",{className:"eye eye-right"})))),o.a.createElement("div",null,"Device Confidence: ",k()),o.a.createElement("div",{className:"details"},o.a.createElement(F,{title:"OS ok",passed:!y()}),o.a.createElement(F,{title:"Browser ok",passed:!x()}),o.a.createElement(F,{title:"Languages ok",passed:!O()}),o.a.createElement(L,{title:"Language",value:JSON.stringify(g())}),o.a.createElement(L,{title:"Languages",value:JSON.stringify(f())}),o.a.createElement(F,{title:"Resolution ok",passed:!b()}),o.a.createElement(F,{title:"Timezone IANA",passed:!j(p())}),o.a.createElement(L,{title:"Timezone IANA",value:JSON.stringify(p())}),o.a.createElement(F,{title:"Timezone Offset",passed:!T(v())}),o.a.createElement(L,{title:"Timezone Offset",value:JSON.stringify(v())+"hr(s)"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement("footer",null))}}]),t}(a.Component),ne=n(22),ae=n(7),oe={enableHighAccuracy:!0,timeout:6e4,maximumAge:0},re={position:"",error:""};function ie(){return"geolocation"in navigator}function ce(e){var t=e.coords;re.position=e,console.log(e),ee&&ee({position:e}),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}function le(e){var t="unknown error";1===e.code?t="permission denied":2===e.code?t="position unavailable (error response from location provider)":3===e.code&&(t="timed out"),re.error="ERROR(".concat(e.code,"): reason: ").concat(t,", ").concat(e.message),X&&X({error:re.error}),ee&&ee({error:re.error}),console.warn(re.error)}function se(e){var t=e.coords;re.position=e,console.log(e),X&&X({position:e}),console.log("Watch: Your current position is:",new Date),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}function ue(){return-1!==navigator.userAgent.indexOf("Android")&&(-1!==navigator.platform.indexOf("Linux")||-1!==navigator.platform.indexOf("Android"))||-1!==navigator.userAgent.indexOf("iPhone")&&/iPhone/.test(navigator.platform)||-1!==navigator.userAgent.indexOf("iPad")&&/iPad/.test(navigator.platform)}function de(){return-1!==navigator.userAgent.indexOf("Windows")&&-1!==navigator.platform.indexOf("Win32")||-1!==navigator.userAgent.indexOf("Macintosh")&&-1!==navigator.platform.indexOf("MacIntel")}var me=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).isTrustworthy=!1,n.state={currentPositions:[],watchPositions:[],position:{coords:{},timestamp:0},error:"",info:{message:"",testFinished:!1,passed:!1},infoWatch:{message:"",testFinished:!1,passed:!1},infoFinal:{message:"",testFinished:!1,passed:!1}},n.handleCurrentPosition=n.handleCurrentPosition.bind(Object(h.a)(Object(h.a)(n))),n.handleWatchPosition=n.handleWatchPosition.bind(Object(h.a)(Object(h.a)(n))),n.currentTimerId=0,n.watchTimerId=0,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({info:{message:"Running current position test....please wait"}}),this.isTrustworthy=ue()||de(),this.isTrustworthyMobile=ue(),this.isTrustworthyDesktop=de(),this.currentTimerId=setInterval(function(){!function(e){if(!ie())throw new Error("geolocation not available");ee=e,navigator.geolocation.getCurrentPosition(ce,le,oe)}(e.handleCurrentPosition)},1e3),setTimeout(function(){clearInterval(t.currentTimerId),t.runCurrentPositionTest()},12100)}},{key:"handleCurrentPosition",value:function(e){var t=e.position,n=e.error;if(t){var a={coords:{latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed},timestamp:t.timestamp,timestampRef:(new Date).getTime()};this.setState({position:a}),this.setState({currentPositions:[].concat(Object(c.a)(this.state.currentPositions),[a])})}n&&this.setState({error:n})}},{key:"runCurrentPositionTest",value:function(){var e=function(e){if(console.log(e.length),e.length>0){if(Y(e),q(e),console.log("real ref jitters",H(e)),G(e))return D("Current position - Failed (big jumps detected)");var t=B(e),n=e.length;if(t===n)return D("Current position - Failed (no jitter in ".concat(n," samples)"));var a=K(e);return I=Object(M.a)({},I,{currentPositionAvgAccuracy:a,lastCurrentPosition:{coords:Object(M.a)({},e[e.length-1].coords),timestamp:e[e.length-1].timestamp}}),console.log("getCurrentPosition acc avg",a),R("Current position - Passed (".concat(n," samples)"))}return D("Current position test - Failed (no geo data)")}(this.state.currentPositions);this.setState({info:Object(M.a)({},e)}),e.passed?this.startWatchTest():this.setState({infoFinal:{message:"Hmm... not enough to continue",passed:!1,testFinished:!0}})}},{key:"startWatchTest",value:function(){if(ie()){var e=this;this.setState({infoWatch:{message:"Running watch position test....please wait"}}),e.watchTimerId=function(e){var t;return ie()&&(X=e,t=navigator.geolocation.watchPosition(se,le,oe)),t}(this.handleWatchPosition),setTimeout(function(){window.navigator.geolocation.clearWatch(e.watchTimerId),e.runWatchPositionTest()},25e3)}}},{key:"handleWatchPosition",value:function(e){var t=e.position,n=e.error;if(t){var a={coords:{latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed},timestamp:t.timestamp,timestampRef:(new Date).getTime()};this.setState({position:a}),this.setState({watchPositions:[].concat(Object(c.a)(this.state.watchPositions),[a])})}n&&this.setState({error:n})}},{key:"runWatchPositionTest",value:function(){var e=_(this.state.watchPositions);this.setState({infoWatch:Object(M.a)({},e)}),e.passed?this.setState({infoFinal:{message:"All good ... you may pass",passed:!0,testFinished:!0}}):this.setState({infoFinal:{message:"Hmm... not enough to continue",passed:!1,testFinished:!0}})}},{key:"render",value:function(){var e="";this.state.position.coords&&(e="https://www.google.com/maps/search/?api=1&query=".concat(this.state.position.coords.latitude,",").concat(this.state.position.coords.longitude));var t=this.isTrustworthy,n=this.isTrustworthyDesktop?"desktop":"none";this.isTrustworthyMobile&&(n="mobile");var a=this.state.position,r=this.state.error,i=window.screen.colorDepth,c=Math.pow(2,i),l=function(){var e=document.createElement("canvas").getContext("webgl");if(!e)return{error:"no webgl"};var t=e.getExtension("WEBGL_debug_renderer_info");return t?{vendor:e.getParameter(t.UNMASKED_VENDOR_WEBGL),renderer:e.getParameter(t.UNMASKED_RENDERER_WEBGL)}:{error:"no WEBGL_debug_renderer_info"}}(),s=l.vendor,u=l.renderer;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"sections"},o.a.createElement("section",{className:"section tests"},o.a.createElement("p",{className:"test ".concat(this.state.info.testFinished?this.state.info.passed?"ok":"not-ok":"not-finished")},this.state.info.message),o.a.createElement("p",{className:"test ".concat(this.state.infoWatch.testFinished?this.state.infoWatch.passed?"ok":"not-ok":"not-finished")},this.state.infoWatch.message),o.a.createElement("p",{className:"test final ".concat(this.state.infoFinal.testFinished?this.state.infoFinal.passed?"ok":"not-ok":"not-finished")},this.state.infoFinal.message)),o.a.createElement("section",{className:"section"},o.a.createElement("div",{className:"position-details"},o.a.createElement("h2",null,"Position ",o.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"marker"},o.a.createElement("i",{className:"marker-core"})))),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("div",null,"Latitude"),o.a.createElement("div",null,a.coords.latitude)),o.a.createElement("li",null,o.a.createElement("div",null,"Longitude"),o.a.createElement("div",null,a.coords.longitude)),o.a.createElement("li",null,o.a.createElement("div",null,"Accuracy"),o.a.createElement("div",null,a.coords.accuracy," m")),o.a.createElement("li",null,o.a.createElement("div",null,"Altitude"),o.a.createElement("div",null,a.coords.altitude)),o.a.createElement("li",null,o.a.createElement("div",null,"Altitude Accuracy"),o.a.createElement("div",null,a.coords.altitudeAccuracy)),o.a.createElement("li",null,o.a.createElement("div",null,"Heading"),o.a.createElement("div",null,a.coords.heading)),o.a.createElement("li",null,o.a.createElement("div",null,"Speed"),o.a.createElement("div",null,a.coords.speed))),o.a.createElement("h2",null,"Other"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("h5",null,"Screen")),o.a.createElement("li",null,"Screen ",o.a.createElement("i",{className:"vals"},"".concat(window.screen.width," x ").concat(window.screen.height))),o.a.createElement("li",null,"Screen Resolution ",o.a.createElement("i",{className:"vals"},"".concat(window.screen.width," x ").concat(window.screen.height))),o.a.createElement("li",null,"Screen Resolution avail",o.a.createElement("i",{className:"vals"},"".concat(window.screen.availWidth," x ").concat(window.screen.availHeight))),o.a.createElement("li",null,"Browser window size ",o.a.createElement("i",{className:"vals"},"".concat(window.outerWidth," x ").concat(window.outerHeight))),o.a.createElement("li",null,"Browser window size avail ",o.a.createElement("i",{className:"vals"},"".concat(window.innerWidth," x ").concat(window.innerHeight))),o.a.createElement("li",null,"Screen colour depth ",o.a.createElement("i",{className:"vals"},"".concat(c," (").concat(i," bits)"))),o.a.createElement("li",null,"Device Pixel Ration ",o.a.createElement("i",{className:"vals"},"".concat(window.devicePixelRatio))),o.a.createElement("li",null,o.a.createElement("h5",null,"Language")),o.a.createElement("li",null,"Language ",o.a.createElement("i",{className:"vals"},"".concat(g()))),o.a.createElement("li",null,"Languages ",o.a.createElement("i",{className:"vals"},"".concat(JSON.stringify(f())))),o.a.createElement("li",null,o.a.createElement("h5",null,"Time")),o.a.createElement("li",null,"Timezone ",o.a.createElement("i",{className:"vals"},"".concat(p()))),o.a.createElement("li",null,"TimezoneOffsetVsUTC  ",o.a.createElement("i",{className:"vals"},"".concat(JSON.stringify(v())))),o.a.createElement("li",null,o.a.createElement("h5",null,"Hardware")),o.a.createElement("li",null,"VideoCard Vendor ",o.a.createElement("i",{className:"vals"},"".concat(s))),o.a.createElement("li",null,"VideoCard Render ",o.a.createElement("i",{className:"vals"},"".concat(u))),o.a.createElement("li",null,"Hardware Concurrency ",o.a.createElement("i",{className:"vals"},"".concat(navigator.hardwareConcurrency))),o.a.createElement("li",null,"Device Min Memory (GiB of RAM) ",o.a.createElement("i",{className:"vals"},"".concat(navigator.deviceMemory))),o.a.createElement("li",null,"Max Touch Points ",o.a.createElement("i",{className:"vals"},"".concat(navigator.maxTouchPoints))),o.a.createElement("li",null,o.a.createElement("h5",null,"Info")),o.a.createElement("li",null,"Product Sub ",o.a.createElement("i",{className:"vals"},"".concat(navigator.productSub," ").concat("20030107"===navigator.productSub?"(Safari or Chrome)":""))),o.a.createElement("li",null,"Navigator Vendor ",o.a.createElement("i",{className:"vals"},"".concat(navigator.vendor))),o.a.createElement("li",null,"BuildID ",o.a.createElement("i",{className:"vals"},"".concat(navigator.buildID?navigator.buildID:""))),o.a.createElement("li",null,"Operating System(oscpu)",o.a.createElement("i",{className:"vals"},"".concat(navigator.oscpu?navigator.oscpu:""))),o.a.createElement("li",null,"Automated (webdriver) ",o.a.createElement("i",{className:"vals"},"".concat(navigator.webdriver?"yes":"no"))),o.a.createElement("li",null,"Platform ",o.a.createElement("i",{className:"vals"},"".concat(navigator.platform))),o.a.createElement("li",null,"User Agent ",o.a.createElement("i",{className:"vals"},"".concat(navigator.userAgent))),o.a.createElement("li",null,o.a.createElement("h5",null,"Tests")),o.a.createElement("li",null,"Trustworthy Device ",o.a.createElement("i",{className:"vals"},"".concat(t?"yes":"no"))),o.a.createElement("li",null,"Trust Type ",o.a.createElement("i",{className:"vals"},"".concat(n)))),o.a.createElement("br",null),o.a.createElement("div",{className:r?"text-error":""},r?"Error: "+r:""))))))}},{key:"componentWillUnmount",value:function(){ie()&&this.watchTimerId&&navigator.geolocation.clearWatch(this.watchTimerId),this.currentTimerId&&clearInterval(this.currentTimerId)}}]),t}(o.a.Component),he="0.2.4";Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(function(){return o.a.createElement(ne.a,null,o.a.createElement("header",null,o.a.createElement("h2",null,"Geo Testing ","v"+he)),o.a.createElement(ae.c,null,o.a.createElement(ae.a,{exact:!0,path:"/",component:me}),o.a.createElement(ae.a,{path:"/test",component:te})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.1d9703e9.chunk.js.map